<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>LinkedIn Application Tracker</title>
    <link rel="stylesheet" href="static/styles.css">
       <script>
        function callPythonFunction() {
            fetch('/call_function', {
                method: 'POST'
            })
            .then(response => response.json())
            .then(data => {
                alert(data.result);
            });
        }
    </script>
</head>
<body>
    <header>
        <h1>LinkedIn Application Tracker</h1>
    </header>
    <main>
        <section id="authentication" class="border-container">
            <h2>Gmail Authentication</h2>
            <p>Authenticate with your Gmail account to start tracking your LinkedIn job applications.</p>
            {% if not authenticated %}
                <button id="auth-button" onclick="window.location.href='/call_function'">Authenticate with Gmail</button>
            {% else %}
                <p style="color: green;">Authenticated with Gmail!</p>
            {% endif %}
        </section>

        <section id="fetch-emails" class="border-container">
            <h2>Fetch Emails</h2>
            <p>After authentication, fetch your latest job application emails.</p>
            <button id="fetch-button">Fetch Emails</button>
        </section>

        <section id="application-tracking" class="border-container">
            <h2>Application Tracking</h2>
            <p>View your job application statistics over time.</p>
            <div id="chart-placeholder">
                <!-- Placeholder for Matplotlib chart -->
                <img src="static/dummy_chart.png" alt="Application Chart">
            </div>
        </section>
    </main>
    <footer>
        <p>Developed by <a href="https://mateusb12.github.io/mateus_portfolio/">Mateus</a></p>
    </footer>

    <script src="static/app.js"></script>
</body>
</html>
